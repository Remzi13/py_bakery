<div id="expense-type-modal" class="modal show" role="dialog" aria-modal="true">
    <div class="modal-content">
        <button class="close" onclick="document.getElementById('expense-type-modal').remove()">&times;</button>
        <h2 data-i18n="editExpenseType">Edit Expense Type</h2>
        <form hx-put="/api/expenses/types/{{ type.id }}" hx-target="#type-row-{{ type.id }}" hx-swap="outerHTML"
            hx-on::after-request="if(event.detail.successful) { document.getElementById('expense-type-modal').remove(); }">
            <div class="form-group">
                <label data-i18n="expenseType">Type Name</label>
                <input type="text" name="name" required value="{{ type.name }}">
            </div>
            <div class="form-group">
                <label data-i18n="price">Default Price</label>
                <input type="number" name="default_price" required value="{{ type.default_price }}" step="0.01">
            </div>
            <div class="form-group">
                <label data-i18n="expenseCategory">Category</label>
                <select name="category_name" required>
                    {% for c in categories %}
                    <option value="{{ c }}" {% if c==type.category_name %}selected{% endif %}>{{ c }}</option>
                    {% endfor %}
                </select>
                <label data-i18n="unit">Unit</label>
                <select name="unit_id" required>
                    {% for u in units %}
                    <option value="{{ u.id }}" {% if u.id==type.unit_id %}selected{% endif %}>{{ u.name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group" style="flex-direction: row; align-items: center; gap: 10px;">
                <input type="checkbox" name="stock" id="expense-type-stock" value="true" {% if type.stock %}checked{%
                    endif %} style="width: auto; margin: 0;">
                <label for="expense-type-stock" style="margin: 0;" data-i18n="storeInStock">Store in Stock
                    (Replenish)</label>
            </div>
            <div class="form-actions">
                <button type="button" class="btn-secondary"
                    onclick="document.getElementById('expense-type-modal').remove()" data-i18n="cancel">Cancel</button>
                <button type="submit" class="btn-primary" data-i18n="save">Save</button>
            </div>
        </form>
    </div>
</div>